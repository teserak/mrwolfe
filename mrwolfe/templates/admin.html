{% extends "base.html" %}

{% block content %}

<div class="viewlet well expanded">
  <header class="clearfix">
    <h2 class="pull-left">Service Level Agreements</h2>
    <span class="controls pull-right">
      <a href="{% url 'create_sla_json' %}" 
         target="#slas"
         data-pu_callback="mrwolfe.afterAdd"
         class="btn btn-mini btn-success add-inline">
        <i class="icon-plus"></i> 
      </a>
      <a class="btn btn-mini toggle expand" href="#slas" title="Expand">
        <i class="icon-expand"></i>
      </a>
      <a class="btn btn-mini toggle collapse" href="#slas" title="Collapse">
        <i class="icon-collapse"></i>
      </a>
    </span>    
  </header>
  
  <p class="text-info">
    To add rules and contacts to an SLA, navigate to it using the
    link.
  </p>

  <ul id="slas">
    {% for sla in view.list_slas %}
    {% include "snippets/sla.html" with object=sla %}
    {% endfor %}
  </ul>
</div>

<div class="viewlet well">
  <header class="clearfix">
    <h2 class="pull-left">Operators</h2>
    <span class="controls pull-right">
      <a href="{% url 'create_operator_json' %}" 
         target="#operators"
         data-pu_callback="mrwolfe.afterAdd"
         class="btn btn-mini btn-success add-inline">
        <i class="icon-plus"></i> 
      </a>
      <a class="btn btn-mini toggle expand" href="#operators" title="Expand">
        <i class="icon-expand"></i>
      </a>
      <a class="btn btn-mini toggle collapse" href="#operators" title="Collapse">
        <i class="icon-collapse"></i>
      </a>
    </span>
  </header>
  <ul id="operators" class="hide">
    {% for operator in view.list_operators %}
    {% include "snippets/operator.html" with object=operator %}    
    {% endfor %}
  </ul>
</div>

<div class="viewlet well">
  <header class="clearfix">
    <h2 class="pull-left">Contacts</h2>
    <span class="controls pull-right">
      <a href="{% url 'create_contact_json' %}" 
         target="#contacts"
         data-pu_callback="mrwolfe.afterAdd"
         class="btn btn-mini btn-success add-inline">
        <i class="icon-plus"></i> 
      </a>
      <a class="btn btn-mini toggle expand" href="#contacts" title="Expand">
        <i class="icon-expand"></i>
      </a>
      <a class="btn btn-mini toggle collapse" href="#contacts" title="Collapse">
        <i class="icon-collapse"></i>
      </a>
    </span>
  </header>
  <ul id="contacts" class="hide">
    {% for contact in view.list_contacts %}
    {% include "snippets/contact.html" with object=contact %}    
    {% endfor %}
  </ul>
</div>

<div class="viewlet well">
  <header class="clearfix">
    <h2 class="pull-left">Mail queues</h2>
    <span class="controls pull-right">
      <a href="{% url 'create_mailqueue_json' %}" 
         target="#mailqueues"
         data-pu_callback="mrwolfe.afterAdd"
         class="btn btn-mini btn-success add-inline">
        <i class="icon-plus"></i> 
      </a>
      <a class="btn btn-mini toggle expand" href="#mailqueues" title="Expand">
        <i class="icon-expand"></i>
      </a>
      <a class="btn btn-mini toggle collapse" href="#mailqueues" title="Collapse">
        <i class="icon-collapse"></i>
      </a>
    </span>
  </header>
  <ul id="mailqueues" class="hide">
    {% for queue in view.list_mailqueues %}
    {% include "snippets/mailqueue.html" with object=queue %}    
    {% endfor %}
  </ul>
</div>

{% endblock %}
